(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"61d0":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("div",{staticClass:"container-sm px-3"},[s("Box",{staticClass:"d-flex"},[s("div",{staticClass:"flex-auto"},[s("label",{staticClass:"d-block",attrs:{for:"input"}},[t._v(" Input "),s("LabelBalance",{attrs:{asset:t.inputAsset},on:{select:t.selectAmount}})],1),s("InputAmount",{attrs:{id:"input",asset:t.inputAsset},on:{change:t.updateOutputAmount},model:{value:t.inputAmount,callback:function(e){t.inputAmount=e},expression:"inputAmount"}})],1),s("div",{staticClass:"text-right mt-4 d-flex"},[s("a",{staticClass:"ml-2 p-2 color-gray-6",on:{click:t.switchAssets}},[s("Icon",{attrs:{name:"switch"}})],1),s("ButtonSelectToken",{attrs:{default:"base",not:t.outputAsset},model:{value:t.inputAsset,callback:function(e){t.inputAsset=e},expression:"inputAsset"}})],1)]),s("Box",{staticClass:"d-flex"},[s("div",{staticClass:"flex-auto"},[s("label",{staticClass:"d-block",attrs:{for:"output"}},[t._v("Output")]),s("InputAmount",{attrs:{id:"output",asset:t.outputAsset},on:{change:t.updateInputAmount},model:{value:t.outputAmount,callback:function(e){t.outputAmount=e},expression:"outputAmount"}})],1),s("div",{staticClass:"text-right mt-4 d-flex"},[s("a",{staticClass:"ml-2 p-2 color-gray-6",on:{click:t.switchAssets}},[s("Icon",{attrs:{name:"switch"}})],1),s("ButtonSelectToken",{attrs:{not:t.inputAsset},model:{value:t.outputAsset,callback:function(e){t.outputAsset=e},expression:"outputAsset"}})],1)]),"send"===t.$route.name?s("Box",[s("label",{staticClass:"d-block",attrs:{for:"to"}},[t._v("Recipient address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],staticClass:"form-control input-amount border-0 p-0",attrs:{id:"to",type:"text",autocomplete:"off",placeholder:"FAB6TH7I..."},domProps:{value:t.to},on:{input:function(e){e.target.composing||(t.to=e.target.value)}}})]):t._e(),t.rate?s("Box",[s("p",{staticClass:"text-white float-right m-0"},[t._v(" 1 "),s("Ticker",{attrs:{asset:t.outputAsset}}),t._v(" = "+t._s(t.rate)+" "),s("Ticker",{attrs:{asset:t.inputAsset}})],1),s("label",{attrs:{for:"to"}},[t._v("Exchange rate")])]):t._e(),s("div",{staticClass:"text-center mb-4"},[s("button",{staticClass:"btn-submit px-6 rounded-2 mb-4",attrs:{type:"submit",disabled:!t.inputAsset||!t.outputAsset||!t.inputAmount||!t.outputAmount}},["send"===t.$route.name?[t._v("Send")]:[t._v("Swap")]],2)])],1)])},i=[],u=(s("b0c0"),s("b680"),s("acd8"),s("96cf"),s("1da1")),r=(s("99af"),s("4160"),s("d81d"),s("d3b7"),s("ac1f"),s("3ca3"),s("1276"),s("159b"),s("ddb0"),s("d4ec")),a=s("bee2"),o=function(){function t(e){Object(r["a"])(this,t),this.pairs=e}return Object(a["a"])(t,[{key:"init",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pairs.map((function(t){return t.init()})),t.next=3,Promise.all(e);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"hasLiquidity",value:function(){return this.pairs.forEach((function(t){if(!t.hasLiquidity())return!1})),!0}},{key:"getAmountBought",value:function(t,e){var s=0;while(this.pairs[s])t=this.pairs[s].getAmountBought(t,e),e=this.pairs[s].asset0===e?this.pairs[s].asset1:this.pairs[s].asset0,s++;return t}},{key:"getAmountSold",value:function(t,e){var s=this.pairs.length-1;while(this.pairs[s])t=this.pairs[s].getAmountSold(t,e),e=this.pairs[s].asset0===e?this.pairs[s].asset1:this.pairs[s].asset0,s--;return t}}]),t}(),c=s("db87"),p=function(){function t(e,s,n){Object(r["a"])(this,t),this.routes=[],this.factory=e,this.inputAsset=s,this.outputAsset=n}return Object(a["a"])(t,[{key:"getRoute",value:function(t){var e,s=this,n=0;return this.routes.forEach((function(i,u){var r=i.getAmountBought(t,s.inputAsset);r>n&&(n=r,e=i)})),e}},{key:"getAmountBought",value:function(t){var e=this,s=0;return this.routes.forEach((function(n,i){var u=n.getAmountBought(t,e.inputAsset);u>s&&(s=u)})),s}},{key:"getAmountSold",value:function(t){var e=this,s=0;return this.routes.forEach((function(n,i){var u=n.getAmountSold(t,e.outputAsset);(!s||u<s)&&(s=u)})),s}},{key:"init",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.factory.allPairs["".concat(this.inputAsset,"_").concat(this.outputAsset)],e&&this.routes.push(this.toRoute([e])),"base"!==this.inputAsset&&"base"!==this.outputAsset&&(s=this.factory.allPairs["".concat(this.inputAsset,"_base")],n=this.factory.allPairs["base_".concat(this.outputAsset)],s&&n&&this.routes.push(this.toRoute([s,n]))),i=this.routes.map((function(t){return t.init()})),t.next=6,Promise.all(i);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"toRoute",value:function(t){var e=this,s=t.map((function(t){var s=e.factory.getPair[t].split("_");return new c["a"](t,s)}));return new o(s)}}]),t}(),h=s("90a9"),l={data:function(){return{trade:!1,inputAsset:"",outputAsset:"",inputAmount:"",outputAmount:"",to:this.$route.query.to,rate:0}},watch:{inputAsset:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e===s){t.next=4;break}return t.next=3,this.init();case 3:this.updateOutputAmount();case 4:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),outputAsset:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e===s){t.next=4;break}return t.next=3,this.init();case 3:this.updateOutputAmount();case 4:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}()},methods:{updateRate:function(){if(this.inputAsset&&this.outputAsset){var t=this.$store.state.settings.assets,e=Object(h["m"])(this.inputAmount,t[this.inputAsset].decimals),s=Object(h["m"])(this.outputAmount,t[this.outputAsset].decimals),n=parseFloat((e/s).toFixed(6));this.rate=n<=0||n===1/0?0:n}else this.rate=0},selectAmount:function(t){this.inputAmount=t,this.updateOutputAmount()},switchAssets:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.inputAsset,this.inputAsset=this.outputAsset,this.outputAsset=e,this.outputAmount="",this.inputAmount="",t.next=7,this.init();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),init:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.trade=new p(this.$store.state.settings,this.inputAsset,this.outputAsset),t.next=3,this.trade.init();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSubmit:function(){var t={},e=this.trade.getRoute(this.inputAmount),s=e.pairs[0].address;this.to&&"send"===this.$route.name&&(t.to=this.to),e.pairs[1]&&(t.to_aa=e.pairs[1].address),location.href=Object(h["g"])(s,t,this.inputAmount,this.inputAsset)},updateOutputAmount:function(){this.inputAmount&&(this.outputAmount=this.trade.getAmountBought(this.inputAmount)||""),this.updateRate()},updateInputAmount:function(){this.outputAmount&&(this.inputAmount=this.trade.getAmountSold(this.outputAmount)||""),this.updateRate()}}},m=l,f=s("2877"),d=Object(f["a"])(m,n,i,!1,null,null,null);e["default"]=d.exports},d81d:function(t,e,s){"use strict";var n=s("23e7"),i=s("b727").map,u=s("d039"),r=s("1dde"),a=r("map"),o=a&&!u((function(){[].map.call({length:-1,0:1},(function(t){throw t}))}));n({target:"Array",proto:!0,forced:!a||!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},db87:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));s("e25e"),s("96cf");var n=s("1da1"),i=s("d4ec"),u=s("bee2"),r=s("90a9"),a=function(){function t(e,s){Object(i["a"])(this,t),this.ready=!1,this.asset0=s[0],this.asset1=s[1],this.address=e}return Object(u["a"])(t,[{key:"init",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["l"])(this.address);case 2:e=t.sent,this.reserve0=parseInt(e.reserve0),this.reserve1=parseInt(e.reserve1),this.supply=parseInt(e.supply),this.ready=!0;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"hasLiquidity",value:function(){return!(!this.reserve0||!this.reserve1||!this.supply)}},{key:"getAmountBought",value:function(t,e){var s=e===this.asset0?this.reserve0:this.reserve1,n=e===this.asset1?this.reserve0:this.reserve1;return Object(r["i"])(t,s,n)}},{key:"getAmountSold",value:function(t,e){var s=e===this.asset1?this.reserve0:this.reserve1,n=e===this.asset0?this.reserve0:this.reserve1;return Object(r["j"])(t,n,s)}}]),t}()},e25e:function(t,e,s){var n=s("23e7"),i=s("e583");n({global:!0,forced:parseInt!=i},{parseInt:i})},e583:function(t,e,s){var n=s("da84"),i=s("58a8").trim,u=s("5899"),r=n.parseInt,a=/^[+-]?0[Xx]/,o=8!==r(u+"08")||22!==r(u+"0x16");t.exports=o?function(t,e){var s=i(String(t));return r(s,e>>>0||(a.test(s)?16:10))}:r}}]);
//# sourceMappingURL=home.5a37befa.js.map